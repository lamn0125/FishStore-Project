"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[153],{4667:function(t,e,a){a.d(e,{Z:function(){return v}});var s=a(3396),n=a(7139);const o=t=>((0,s.dD)("data-v-bee7b280"),t=t(),(0,s.Cn)(),t),c={class:"container"},i=o((()=>(0,s._)("div",{class:"step"},[(0,s._)("div",{class:"circle-container red"})],-1))),l={class:"step"},r=o((()=>(0,s._)("span",{class:"connect-line"},null,-1))),d={class:"step"},u=o((()=>(0,s._)("span",{class:"connect-line"},null,-1)));function p(t,e,a,o,p,h){return(0,s.wg)(),(0,s.iD)("div",c,[i,(0,s._)("div",l,[(0,s._)("div",{class:(0,n.C_)(["circle-container",[p.step>="2"?"yellow":null]])},null,2),r]),(0,s._)("div",d,[(0,s._)("div",{class:(0,n.C_)(["circle-container",["3"==p.step?"yellow green":null]])},null,2),u])])}var h={props:["stepNum"],data(){return{step:this.stepNum}}},_=a(89);const C=(0,_.Z)(h,[["render",p],["__scopeId","data-v-bee7b280"]]);var v=C},6153:function(t,e,a){a.r(e),a.d(e,{default:function(){return x}});var s=a(3396),n=a(7139),o=a(9242);const c=t=>((0,s.dD)("data-v-67d1e0da"),t=t(),(0,s.Cn)(),t),i=c((()=>(0,s._)("h1",{class:"main-heading"},"CART",-1))),l={class:"base-container"},r={key:0,class:"empty-container"},d=c((()=>(0,s._)("h2",null,[(0,s.Uk)("No Items added "),(0,s._)("i",{class:"bi bi-emoji-frown"})],-1))),u={key:1,class:"cart-container","data-aos":"fade-up"},p={class:"cart-list-panel"},h=c((()=>(0,s._)("thead",{class:"table-header"},[(0,s._)("tr",null,[(0,s._)("th"),(0,s._)("th",null,"Product"),(0,s._)("th",null,"QTY"),(0,s._)("th",null,"PRICE"),(0,s._)("th",null,"TOTAL")])],-1))),_={class:"table-body"},C=["src"],v={class:"qty-control"},g=["onClick"],m=["onUpdate:modelValue"],y=["onClick"],b=["onClick"],k=c((()=>(0,s._)("i",{class:"bi bi-x-circle"},null,-1))),w=[k],L={class:"cart-footer"},U={class:"coupon-btn"},q={key:0},f={key:1};function D(t,e,a,c,k,D){const O=(0,s.up)("Loading"),S=(0,s.up)("StepProgress");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(O,{active:k.isLoading},null,8,["active"]),i,(0,s._)("div",l,[k.cart.carts?((0,s.wg)(),(0,s.iD)("div",u,[(0,s.Wm)(S,{stepNum:1}),(0,s._)("table",p,[h,(0,s._)("tbody",_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(k.cart.carts,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"table-row"},[(0,s._)("td",null,[(0,s._)("img",{class:"product-image",src:t.product.imageUrl},null,8,C)]),(0,s._)("td",null,(0,n.zw)(t.product.title),1),(0,s._)("td",null,[(0,s._)("div",v,[(0,s._)("button",{class:"reduceQty",onClick:e=>D.qtyHandler(e,t)},"-",8,g),(0,s.wy)((0,s._)("input",{class:"qty-input",type:"number","onUpdate:modelValue":e=>t.qty=e},null,8,m),[[o.nr,t.qty,void 0,{number:!0}]]),(0,s._)("button",{class:"addQty",onClick:e=>D.qtyHandler(e,t)},"+",8,y)])]),(0,s._)("td",null,(0,n.zw)(t.product.price),1),(0,s._)("td",null,(0,n.zw)(t.total),1),(0,s._)("td",{class:"delete-btn",onClick:e=>D.removeCartItem(t.id)},w,8,b)])))),128))])]),(0,s._)("div",L,[(0,s._)("div",U,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>k.coupon_code=t),placeholder:"Enter Coupon Code"},null,512),[[o.nr,k.coupon_code]]),(0,s._)("button",{class:"use-coupon-btn",type:"button",onClick:e[2]||(e[2]=(...t)=>D.addCouponCode&&D.addCouponCode(...t))}," USE COUPON "),k.coupon_status?((0,s.wg)(),(0,s.iD)("p",q," COUPON SUCCESSFULLY USED")):null!=k.coupon_status?((0,s.wg)(),(0,s.iD)("p",f,"COUPON UNSUCCESSFULLY USED")):(0,s.kq)("",!0)]),(0,s._)("button",{class:"next-btn",onClick:e[3]||(e[3]=(...t)=>D.getOrder&&D.getOrder(...t))},"Next")])])):((0,s.wg)(),(0,s.iD)("div",r,[d,(0,s._)("button",{class:"redirect-btn",onClick:e[0]||(e[0]=(...t)=>D.redirectBtn&&D.redirectBtn(...t))},"CHECK OUT ALL PRODUCTS")]))])],64)}a(7658);var O=a(4667),S={inject:["emitter"],components:{StepProgress:O.Z},data(){return{cart:{},coupon_code:"",isLoading:!1,coupon_status:null}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/api/lamn0125-vue-api/cart";this.isLoading=!0,this.$http.get(t).then((t=>{this.isLoading=!1;const e=t.data.data.carts.length;this.emitter.emit("sendProduct",e),0!==t.data.data.carts.length?this.cart=t.data.data:this.cart.carts=0}))},updateCart(t){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/lamn0125-vue-api/cart/${t.id}`,a={product_id:t.id,qty:t.qty};this.$http.put(e,{data:a}).then((t=>{this.isLoading=!1,this.getCart()}))},removeCartItem(t){const e=`https://vue3-course-api.hexschool.io/api/lamn0125-vue-api/cart/${t}`;this.isLoading=!0,this.$http.delete(e).then((t=>{t.data.success&&(this.isLoading=!1,this.getCart())}))},qtyHandler(t,e){t.target.classList.contains("addQty")?e.qty++:t.target.classList.contains("reduceQty")&&e.qty>0&&e.qty--,this.updateCart(e),0===e.qty&&this.removeCartItem(e.id)},getOrder(){this.$router.push("/order")},redirectBtn(){this.$router.push("/products")},addCouponCode(){const t="https://vue3-course-api.hexschool.io/api/lamn0125-vue-api/coupon",e={code:this.coupon_code};this.$http.post(t,{data:e}).then((t=>{t.data.success?(this.coupon_status=!0,this.getCart()):this.coupon_status=!1}))}},created(){this.getCart()}},N=a(89);const P=(0,N.Z)(S,[["render",D],["__scopeId","data-v-67d1e0da"]]);var x=P}}]);
//# sourceMappingURL=153.61499f4f.js.map