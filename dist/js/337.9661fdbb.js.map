{"version":3,"file":"js/337.9661fdbb.js","mappings":"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","sources":["webpack://vue-project/./src/views/Products.vue","webpack://vue-project/./src/views/Products.vue?d5e3"],"sourcesContent":["<template>\n<Loading :active=\"isLoading\" ></Loading>\n<ToastMessages></ToastMessages>\n<h1 class=\"main-heading\">PRODUCTS</h1>\n  <div class=\"base-container\">\n  <div class=\"main-container\">\n    <div class=\"category-container\">\n      <table class=\"category-table\">\n        <thead>\n          <th><input type=\"text\" class=\"search-input\" placeholder=\"&#x1F50D;  PRODUCT NAME\" v-model=\"keyword\" @change=\"searchHandler\"/></th>\n        </thead>\n        <tbody class=\"category-list\">\n          <tr>\n            <td @click=\"selectedCategory(null)\">All</td>\n          </tr>\n          <tr v-for=\"category in categoryList\" :key=\"category\">\n            <td><span @click=\"selectedCategory(category)\">{{category}}</span></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <div class=\"cards\" data-aos=\"fade-up\">\n      <div\n        class=\"card\"\n        style=\"width: 15rem\"\n        v-for=\"product in filteredProducts ? filteredProducts : products\"\n        :key=\"product.id\"\n      >\n        <img :src=\"product.imageUrl\" class=\"card-img-top card-img\" alt=\"product.title\" />\n        <button class=\"detail-btn\" type=\"button\">\n          <i class=\"bi bi-three-dots-vertical\" @click=\"getProduct(product.id)\"></i>\n        </button>\n\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">{{ product.title }}</h5>\n          <p class=\"card-text\">\n            {{ product.unit }}\n          </p>\n          <p>$ {{ $filters.currency(product.price) }}</p>\n          <button\n            class=\"addToCart-btn\"\n            @click=\"addToCart(product.id)\"\n            :disabled=\"status.loadingItem === product.id\"\n          >\n            <i class=\"bi bi-cart-check\" v-if=\"isAddedToCart && product.id == status.addedItem\"></i>\n            <i class=\"bi bi-cart-plus\" v-else></i>\n\n          </button>\n        </div>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.main-container {\n  display: flex;\n}\n.category-container {\n  height: auto;\n  .category-table{\n    border-collapse: separate;\n  }\n  .search-input {\n     height: 60px;\n     padding: 10px;\n     border: 2px solid $main-text-color;\n     border-radius: 10px;\n     margin-bottom: .5rem;\n  }\n  .category-list {\n    > tr > td{\n      background-color: $container-color;\n      padding: 1rem;\n      cursor: pointer;\n    }\n  }\n}\n.cards {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 10px;\n  justify-content: center;\n  .card {\n    border: none;\n    background-color: $container-color;\n    position: relative;\n    margin: 1rem;\n    &:hover > button {\n      opacity: 0.7;\n      transform: scale(1, 1);\n      transition: all 0.2s ease-out;\n    }\n    &::before,\n    &::after {\n      content: '';\n      position: absolute;\n      top: 0.5rem;\n      right: 0.5rem;\n      bottom: 0.5rem;\n      left: 0.5rem;\n      transition: transform 0.3s ease-out;\n    }\n\n    &::before {\n      border-top: 1px #000 solid;\n      border-bottom: 1px #000 solid;\n      transform: scale(0, 1);\n    }\n    &::after {\n      border-left: 1px #000 solid;\n      border-right: 1px #000 solid;\n      transform: scale(1, 0);\n    }\n    &:hover::before {\n      transform: scale(1.05, 1);\n    }\n    &:hover::after {\n      transform: scale(1, 1.05);\n    }\n    .detail-btn {\n      position: absolute;\n      transform: scale(1, 0);\n      z-index: 10;\n      color: #fff;\n      top: 0;\n      right: 0;\n      border: none;\n      font-size: 2rem;\n      margin: 1rem;\n      background-color: transparent;\n    }\n    .card-img {\n      padding: .5rem;\n      height: 200px;\n      object-fit: cover;\n    }\n    .card-title {\n      font-weight: 600;\n      font-size: 1.5rem;\n    }\n    .card-text {\n      line-height: 1.5rem;\n      font-size: 1rem;\n    }\n    .addToCart-btn {\n      border: none;\n      background-color: transparent;\n      cursor: pointer;\n      position: absolute;\n      bottom: 1rem;\n      right: 1rem;\n      z-index: 10;\n      > i {\n        font-size: 2rem;\n        &:hover {\n          color: rgb(202, 202, 202);\n        }\n      }\n    }\n  }\n}\n</style>\n\n<script>\nexport default {\n  inject: [\"emitter\"],\n  data() {\n    return {\n      products: [],\n      status: {\n        addedItem: ''\n      },\n      isLoading: false,\n      isAddedToCart: false,\n      cartLength: '',\n      categoryList: [],\n      keyword: '',\n      category: null,\n    }\n  },\n  methods: {\n    getProducts() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\n      this.isLoading = true\n      this.$http.get(api).then((res) => {\n        this.isLoading = false;\n        this.products = res.data.products\n        const list = res.data.products\n        let newList = list.map(item => {\n          return item.category\n        })\n        newList.forEach(item => {\n          if(this.categoryList.indexOf(item) === -1){\n            this.categoryList.push(item)\n          } else {\n            return\n          }\n        })\n      })\n    },\n    getProduct(id) {\n      this.$router.push(`/product/${id}`);\n    },\n    addToCart(id) {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      this.status.addedItem = id\n      const cart = { product_id: id, qty: 1 }\n      this.$http.post(api, { data: cart }).then((res) => {\n        this.isLoading = false\n        this.isAddedToCart = true\n        this.getCart()\n      })\n    },\n    getCart(){\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      this.$http.get(api).then(res => {\n        this.cartLength = res.data.data.carts.length\n        this.emitter.emit('sendProduct', this.cartLength)\n      })\n    },\n    selectedCategory(category){\n      this.category = category\n    },\n  },\n  computed: {\n    filteredProducts(){\n      if(this.keyword != ''){\n        return this.products.filter(item => {\n          return item.content.toLowerCase().match(this.keyword.toLowerCase())\n        })\n      } else if (this.category != null){\n        return this.products.filter(item => {\n          return item.category === this.category\n        })\n      }\n    },\n  },\n  created() {\n    this.getProducts()\n  },\n}\n</script>\n","import { render } from \"./Products.vue?vue&type=template&id=d2410b84&scoped=true\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport \"./Products.vue?vue&type=style&index=0&id=d2410b84&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/lamn0125/vue-project/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d2410b84\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","type","_createVNode","_component_Loading","active","$data","isLoading","_component_ToastMessages","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","placeholder","keyword","$event","onChange","_cache","args","_ctx","searchHandler","_hoisted_6","onClick","$options","selectedCategory","_createElementBlock","_Fragment","_renderList","categoryList","category","key","_hoisted_7","_hoisted_8","filteredProducts","products","product","style","id","src","imageUrl","alt","_hoisted_10","getProduct","_hoisted_12","_hoisted_13","_toDisplayString","title","_hoisted_14","unit","$filters","currency","price","addToCart","disabled","status","loadingItem","isAddedToCart","addedItem","_hoisted_16","_hoisted_17","inject","data","cartLength","methods","getProducts","api","this","$http","get","then","res","list","newList","map","item","forEach","indexOf","push","$router","cart","product_id","qty","post","getCart","carts","length","emitter","emit","computed","filter","content","toLowerCase","match","created","__exports__","render"],"sourceRoot":""}