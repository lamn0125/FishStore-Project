"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[897],{8897:function(s,e,i){i.r(e),i.d(e,{default:function(){return h}});var n=i(3396),t=i(9242);const o=s=>((0,n.dD)("data-v-6377d05e"),s=s(),(0,n.Cn)(),s),a={class:"base-container"},r={key:0,class:"login-status"},l=o((()=>(0,n._)("label",{for:"inputEmail",class:"sr-only"},"Email address",-1))),u=o((()=>(0,n._)("label",{for:"inputPassword",class:"sr-only"},"Password",-1))),d=o((()=>(0,n._)("div",{class:"button"},[(0,n._)("button",{class:"login-btn"},"Submit")],-1)));function c(s,e,i,o,c,p){const m=(0,n.up)("Loading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(m,{active:c.isLoading},null,8,["active"]),(0,n._)("div",a,[(0,n._)("form",{class:"main-container",onSubmit:e[2]||(e[2]=(0,t.iM)(((...s)=>p.signIn&&p.signIn(...s)),["prevent"]))},[c.isFailedLogin?((0,n.wg)(),(0,n.iD)("div",r,"Unsuccessfully Login")):(0,n.kq)("",!0),l,(0,n.wy)((0,n._)("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"test@example.com",required:"",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=s=>c.user.username=s)},null,512),[[t.nr,c.user.username]]),u,(0,n.wy)((0,n._)("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"password",required:"","onUpdate:modelValue":e[1]||(e[1]=s=>c.user.password=s)},null,512),[[t.nr,c.user.password]]),d],32)])],64)}i(7658);var p={inject:["emitter"],data(){return{user:{username:"",password:""},isLoading:!1,isFailedLogin:!1}},methods:{signIn(){const s="https://vue3-course-api.hexschool.io/admin/signin";this.isLoading=!0,this.$http.post(s,this.user).then((s=>{if(this.isLoading=!1,console.log(s),s.data.success){this.isFailedLogin=!0;const{token:e,expired:i}=s.data;document.cookie=`LoginToken=${e}; expires=${new Date(i)}`,this.$router.push("/dashboard/products"),this.emitter.emit("loginStatus",this.isFailedLogin)}else this.isFailedLogin=!0}))}}},m=i(89);const g=(0,m.Z)(p,[["render",c],["__scopeId","data-v-6377d05e"]]);var h=g}}]);
//# sourceMappingURL=897.e69495f8.js.map